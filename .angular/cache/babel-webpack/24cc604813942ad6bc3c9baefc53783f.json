{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\n\nfunction JsonPreviewComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\n\nfunction JsonPreviewComponent_table_4_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"pre\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"json\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵelementStart(8, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function JsonPreviewComponent_table_4_tr_10_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const file_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.downloadJson(file_r4.filename, file_r4.content);\n    });\n    i0.ɵɵtext(9, \"Download JSON\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const file_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(file_r4.filename);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 2, file_r4.content.metadata));\n  }\n}\n\nfunction JsonPreviewComponent_table_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 5);\n    i0.ɵɵelementStart(1, \"thead\");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Filename\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Metadata\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Actions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, JsonPreviewComponent_table_4_tr_10_Template, 10, 4, \"tr\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.jsonFiles);\n  }\n}\n\nfunction JsonPreviewComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" No JSON files found. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let JsonPreviewComponent = /*#__PURE__*/(() => {\n  class JsonPreviewComponent {\n    constructor(http) {\n      this.http = http;\n      this.jsonFiles = [];\n      this.error = '';\n    }\n\n    ngOnInit() {\n      this.loadJsonFiles();\n    }\n\n    loadJsonFiles() {\n      this.http.get('/api/json-files').subscribe({\n        next: data => {\n          this.jsonFiles = data;\n        },\n        error: err => {\n          this.error = 'Failed to load JSON files';\n          console.error(err);\n        }\n      });\n    }\n\n    downloadJson(filename, content) {\n      const jsonStr = JSON.stringify(content, null, 2);\n      const blob = new Blob([jsonStr], {\n        type: 'application/json'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = filename;\n      a.click();\n      window.URL.revokeObjectURL(url);\n    }\n\n  }\n\n  JsonPreviewComponent.ɵfac = function JsonPreviewComponent_Factory(t) {\n    return new (t || JsonPreviewComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n\n  JsonPreviewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: JsonPreviewComponent,\n    selectors: [[\"app-json-preview\"]],\n    decls: 6,\n    vars: 3,\n    consts: [[1, \"container\"], [\"class\", \"error\", 4, \"ngIf\"], [\"border\", \"1\", \"cellpadding\", \"5\", \"cellspacing\", \"0\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"error\"], [\"border\", \"1\", \"cellpadding\", \"5\", \"cellspacing\", \"0\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n    template: function JsonPreviewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"h2\");\n        i0.ɵɵtext(2, \"JSON Files Preview\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, JsonPreviewComponent_div_3_Template, 2, 1, \"div\", 1);\n        i0.ɵɵtemplate(4, JsonPreviewComponent_table_4_Template, 11, 1, \"table\", 2);\n        i0.ɵɵtemplate(5, JsonPreviewComponent_div_5_Template, 2, 0, \"div\", 3);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.jsonFiles.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.jsonFiles.length === 0 && !ctx.error);\n      }\n    },\n    directives: [i2.NgIf, i2.NgForOf],\n    pipes: [i2.JsonPipe],\n    styles: [\"[_nghost-%COMP%]{display:block;padding:1rem;font-family:Arial,sans-serif;color:#333}\"]\n  });\n  return JsonPreviewComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}