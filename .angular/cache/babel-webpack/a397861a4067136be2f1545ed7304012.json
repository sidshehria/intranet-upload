{"ast":null,"code":"import { HttpEventType, HttpResponse } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\n\nfunction FileUploadComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Upload Progress: \", ctx_r0.uploadProgress, \"% \");\n  }\n}\n\nfunction FileUploadComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1, \" File uploaded successfully! \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FileUploadComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.uploadError, \" \");\n  }\n}\n\nexport let FileUploadComponent = /*#__PURE__*/(() => {\n  class FileUploadComponent {\n    constructor(http) {\n      this.http = http;\n      this.selectedFile = null;\n      this.uploadProgress = 0;\n      this.uploadSuccess = false;\n      this.uploadError = '';\n    }\n\n    ngOnInit() {}\n\n    onFileSelected(event) {\n      if (event.target.files.length > 0) {\n        this.selectedFile = event.target.files[0];\n        this.uploadProgress = 0;\n        this.uploadSuccess = false;\n        this.uploadError = '';\n      }\n    }\n\n    onUpload() {\n      if (!this.selectedFile) {\n        this.uploadError = 'No file selected';\n        return;\n      }\n\n      const formData = new FormData();\n      formData.append('file', this.selectedFile, this.selectedFile.name);\n      this.http.post('/api/upload', formData, {\n        reportProgress: true,\n        observe: 'events'\n      }).subscribe(event => {\n        if (event.type === HttpEventType.UploadProgress && event.total) {\n          this.uploadProgress = Math.round(100 * event.loaded / event.total);\n        } else if (event instanceof HttpResponse) {\n          this.uploadSuccess = true; // Optionally handle the returned JSON here\n          // Example: console.log(event.body);\n        }\n      }, error => {\n        this.uploadError = 'Upload failed. Please try again.';\n        this.uploadProgress = 0;\n      });\n    }\n\n  }\n\n  FileUploadComponent.ɵfac = function FileUploadComponent_Factory(t) {\n    return new (t || FileUploadComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n  };\n\n  FileUploadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FileUploadComponent,\n    selectors: [[\"app-file-upload\"]],\n    decls: 34,\n    vars: 3,\n    consts: [[2, \"text-align\", \"center\", \"margin-bottom\", \"3rem\"], [2, \"color\", \"rgb(20, 14, 14)\", \"font-size\", \"2.5rem\", \"font-weight\", \"700\", \"margin-bottom\", \"0.5rem\"], [2, \"color\", \"rgba(20, 13, 13, 0.8)\", \"font-size\", \"1.1rem\"], [1, \"container\"], [1, \"header\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"56\", \"height\", \"56\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-cloud-upload-fill\"], [\"fill-rule\", \"evenodd\", \"d\", \"M8 0a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 4.095 0 5.555 0 7.318 0 9.366 1.708 11 3.781 11H7.5V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11h4.188C14.502 11 16 9.57 16 7.773c0-1.636-1.242-2.969-2.834-3.194C12.923 1.999 10.69 0 8 0m-.5 14.5V11h1v3.5a.5.5 0 0 1-1 0\"], [\"for\", \"file\", 1, \"footer\"], [\"fill\", \"#000000\", \"viewBox\", \"0 0 32 32\", \"width\", \"36\", \"height\", \"36\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"id\", \"SVGRepo_bgCarrier\", \"stroke-width\", \"0\"], [\"id\", \"SVGRepo_tracerCarrier\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\"], [\"id\", \"SVGRepo_iconCarrier\"], [\"d\", \"M15.331 6H8.5v20h15V14.154h-8.169z\"], [\"d\", \"M18.153 6h-.009v5.342H23.5v-.002z\"], [\"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"width\", \"36\", \"height\", \"36\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"d\", \"M5.16565 10.1534C5.07629 8.99181 5.99473 8 7.15975 8H16.8402C18.0053 8 18.9237 8.9918 18.8344 10.1534L18.142 19.1534C18.0619 20.1954 17.193 21 16.1479 21H7.85206C6.80699 21 5.93811 20.1954 5.85795 19.1534L5.16565 10.1534Z\", \"stroke\", \"#000000\", \"stroke-width\", \"2\"], [\"d\", \"M19.5 5H4.5\", \"stroke\", \"#000000\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\"], [\"d\", \"M10 3C10 2.44772 10.4477 2 11 2H13C13.5523 2 14 2.44772 14 3V5H10V3Z\", \"stroke\", \"#000000\", \"stroke-width\", \"2\"], [\"id\", \"file\", \"type\", \"file\", 3, \"change\"], [1, \"footer\", 2, \"margin-top\", \"20px\", 3, \"click\"], [4, \"ngIf\"], [\"style\", \"color: green;\", 4, \"ngIf\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [2, \"color\", \"green\"], [2, \"color\", \"red\"]],\n    template: function FileUploadComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"header\", 0);\n        i0.ɵɵelementStart(1, \"h1\", 1);\n        i0.ɵɵtext(2, \" Cable Specification Generator \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\", 2);\n        i0.ɵɵtext(4, \" Upload technical documents and generate standardized JSON specifications. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(7, \"svg\", 5);\n        i0.ɵɵelement(8, \"path\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(9, \"p\");\n        i0.ɵɵtext(10, \"Browse File to upload!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"label\", 7);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(12, \"svg\", 8);\n        i0.ɵɵelement(13, \"g\", 9);\n        i0.ɵɵelement(14, \"g\", 10);\n        i0.ɵɵelementStart(15, \"g\", 11);\n        i0.ɵɵelement(16, \"path\", 12);\n        i0.ɵɵelement(17, \"path\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(18, \"p\");\n        i0.ɵɵtext(19, \"Select File\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(20, \"svg\", 14);\n        i0.ɵɵelement(21, \"g\", 9);\n        i0.ɵɵelement(22, \"g\", 10);\n        i0.ɵɵelementStart(23, \"g\", 11);\n        i0.ɵɵelement(24, \"path\", 15);\n        i0.ɵɵelement(25, \"path\", 16);\n        i0.ɵɵelement(26, \"path\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(27, \"input\", 18);\n        i0.ɵɵlistener(\"change\", function FileUploadComponent_Template_input_change_27_listener($event) {\n          return ctx.onFileSelected($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"label\", 19);\n        i0.ɵɵlistener(\"click\", function FileUploadComponent_Template_label_click_28_listener() {\n          return ctx.onUpload();\n        });\n        i0.ɵɵelementStart(29, \"p\");\n        i0.ɵɵtext(30, \"Upload File\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(31, FileUploadComponent_div_31_Template, 2, 1, \"div\", 20);\n        i0.ɵɵtemplate(32, FileUploadComponent_div_32_Template, 2, 0, \"div\", 21);\n        i0.ɵɵtemplate(33, FileUploadComponent_div_33_Template, 2, 1, \"div\", 22);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(31);\n        i0.ɵɵproperty(\"ngIf\", ctx.uploadProgress > 0 && !ctx.uploadSuccess);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.uploadSuccess);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.uploadError);\n      }\n    },\n    directives: [i2.NgIf],\n    styles: [\"[_nghost-%COMP%]{font-family:\\\"Segoe UI\\\",Tahoma,Geneva,Verdana,sans-serif;display:flex;flex-direction:column;align-items:center;padding:1rem;background-color:#f9fafb;min-height:100vh;box-sizing:border-box}header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#222;font-size:2.5rem;font-weight:700;margin-bottom:.5rem}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;font-size:1.1rem;margin:0}.container[_ngcontent-%COMP%]{width:100%;max-width:600px;height:420px;background-color:#fff;border-radius:12px;box-shadow:0 8px 24px #0000001f;display:flex;flex-direction:column;overflow:hidden;padding:1rem 1.5rem;box-sizing:border-box}.header[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;grid-gap:1rem;gap:1rem;color:#041a72}.header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:80px;fill:#041a72;filter:drop-shadow(0 2px 4px rgba(26,115,232,.4))}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:1.25rem;font-weight:600;margin:0}.footer[_ngcontent-%COMP%]{background-color:#041a72;width:90%;height:50px;padding:0 1rem;border-radius:24px;cursor:pointer;display:flex;align-items:center;justify-content:flex-end;color:#fff;box-shadow:0 2px 8px #1a73e899;transition:background-color .3s ease}.footer[_ngcontent-%COMP%]:hover{background-color:#041a72}.footer[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:130%;fill:#fff;background-color:#fff3;border-radius:50%;padding:4px;cursor:pointer;box-shadow:0 2px 12px #fff6;transition:background-color .3s ease}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;font-size:1rem;margin:0}#file[_ngcontent-%COMP%]{display:none}@media (max-width: 640px){.container[_ngcontent-%COMP%]{height:100vh;border-radius:0;padding:1rem}.header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:60px}.footer[_ngcontent-%COMP%]{height:45px;border-radius:20px}}\"]\n  });\n  return FileUploadComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}